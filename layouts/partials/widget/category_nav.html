<div class="archive-categories">
  {{ $postURL := printf "%s/" (`post` | relLangURL) }}
  {{ $allPosts := where .Site.RegularPages "Type" "post" }}

  <a role="button" href="{{ $postURL }}"
    class="{{ if ne .RelPermalink $postURL }}outline{{ end }}">
    {{ i18n "archive" }} ({{ len $allPosts }})
  </a>
  {{ range $name, $taxonomy := .Site.Taxonomies.categories }}
  {{ with $.Site.GetPage (printf "/categories/%s" $name) }}
  <a role="button" href="{{ .Permalink }}"
    class="{{ if ne $.RelPermalink .RelPermalink }}outline{{ end }}">
    {{ $name }} ({{ len $taxonomy }})
  </a>
  {{ end }}
  {{ end }}
</div>
